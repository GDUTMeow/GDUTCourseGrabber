{
    "openapi": "3.1.0",
    "info": {
        "title": "FastAPI",
        "version": "0.1.0"
    },
    "servers": [
        {
            "url": "/api"
        }
    ],
    "paths": {
        "/eas/courses": {
            "get": {
                "summary": "Get Courses",
                "description": "获取公选课课程列表路由。\n\nArgs:\n    account (AccountDep): 用于访问教务系统的帐户。\n    count (int, optional): 数量。默认为 10。\n    page (int, optional): 页面。默认为 1。\n\nReturns:\n    ApiResponse[list[Course]]: 根据指定数量及页面返回相应范围的课程列表。",
                "operationId": "get_courses_eas_courses_get",
                "parameters": [
                    {
                        "name": "count",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10,
                            "title": "Count"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1,
                            "title": "Page"
                        }
                    },
                    {
                        "name": "session_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_list_Course__"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/eas/courses/{id}/lessons": {
            "get": {
                "summary": "Get Lessons",
                "description": "获取公选课的节次详情列表路由。\n\nArgs:\n    account (AccountDep): 用于访问教务系统的帐户。\n    id (int): 课程 ID。\n\nReturns:\n    ApiResponse[list[Lesson]]: 指定课程的节次详情列表。",
                "operationId": "get_lessons_eas_courses__id__lessons_get",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Id"
                        }
                    },
                    {
                        "name": "session_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Session Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_list_Lesson__"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/grabber/": {
            "get": {
                "summary": "Get Tasks",
                "description": "获取抢课任务列表路由。\n\nReturns:\n    ApiResponse[list[KeyValuePair[int, GrabberTask]]]: 抢课任务列表。",
                "operationId": "get_tasks_grabber__get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_list_KeyValuePair_int__GrabberTask___"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "summary": "Add Task",
                "description": "添加抢课任务路由。\n\nArgs:\n    task (GrabberTask): 待添加的抢课任务。",
                "operationId": "add_task_grabber__post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/GrabberTask-Input"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_NoneType_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/grabber/{id}": {
            "delete": {
                "summary": "Destroy Task",
                "description": "销毁抢课任务路由。\n\nArgs:\n    id (int): 抢课任务 ID。",
                "operationId": "destroy_task_grabber__id__delete",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_NoneType_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "summary": "Get Task",
                "description": "获取抢课任务路由。\n\nArgs:\n    id (int): 抢课任务 ID。\n\nReturns:\n    ApiResponse[GrabberTask]: 指定 ID 的抢课任务信息。",
                "operationId": "get_task_grabber__id__get",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_GrabberTask_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "summary": "Update Task",
                "description": "更新抢课任务路由。\n\nArgs:\n    id (int): 抢课任务 ID。\n    task (GrabberTask): 将要更新为的抢课任务。",
                "operationId": "update_task_grabber__id__put",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/GrabberTask-Input"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_NoneType_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/grabber/{id}/reset": {
            "get": {
                "summary": "Reset Task",
                "description": "重置抢课任务路由。\n\nArgs:\n    id (int): 抢课任务 ID。",
                "operationId": "reset_task_grabber__id__reset_get",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_NoneType_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/grabber/{id}/start": {
            "get": {
                "summary": "Start Task",
                "description": "启动抢课任务路由。\n\nArgs:\n    id (int): 抢课任务 ID。\n\nReturns:\n    ApiResponse[bool]: 是否成功启动。",
                "operationId": "start_task_grabber__id__start_get",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_bool_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/grabber/{id}/cancel": {
            "get": {
                "summary": "Cancel Task",
                "description": "取消抢课任务路由。\n\nArgs:\n    id (int): 抢课任务 ID。\n\nReturns:\n    ApiResponse[bool]: 是否成功取消。",
                "operationId": "cancel_task_grabber__id__cancel_get",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "title": "Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse_bool_"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "Account": {
                "properties": {
                    "session_id": {
                        "type": "string",
                        "title": "Session Id"
                    }
                },
                "type": "object",
                "required": [
                    "session_id"
                ],
                "title": "Account",
                "description": "帐户。"
            },
            "ApiResponse_GrabberTask_": {
                "properties": {
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorKind"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "default": ""
                    },
                    "data": {
                        "$ref": "#/components/schemas/GrabberTask-Output"
                    }
                },
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "ApiResponse[GrabberTask]"
            },
            "ApiResponse_NoneType_": {
                "properties": {
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorKind"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "default": ""
                    },
                    "data": {
                        "type": "null",
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "ApiResponse[NoneType]"
            },
            "ApiResponse_bool_": {
                "properties": {
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorKind"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "default": ""
                    },
                    "data": {
                        "type": "boolean",
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "ApiResponse[bool]"
            },
            "ApiResponse_list_Course__": {
                "properties": {
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorKind"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "default": ""
                    },
                    "data": {
                        "items": {
                            "$ref": "#/components/schemas/Course"
                        },
                        "type": "array",
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "ApiResponse[list[Course]]"
            },
            "ApiResponse_list_KeyValuePair_int__GrabberTask___": {
                "properties": {
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorKind"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "default": ""
                    },
                    "data": {
                        "items": {
                            "$ref": "#/components/schemas/KeyValuePair_int_GrabberTask_"
                        },
                        "type": "array",
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "ApiResponse[list[KeyValuePair[int, GrabberTask]]]"
            },
            "ApiResponse_list_Lesson__": {
                "properties": {
                    "error": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ErrorKind"
                            },
                            {
                                "type": "null"
                            }
                        ]
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "default": ""
                    },
                    "data": {
                        "items": {
                            "$ref": "#/components/schemas/Lesson"
                        },
                        "type": "array",
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "data"
                ],
                "title": "ApiResponse[list[Lesson]]"
            },
            "Course": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "title": "Id"
                    },
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "teacher": {
                        "type": "string",
                        "title": "Teacher"
                    },
                    "category": {
                        "type": "string",
                        "title": "Category"
                    },
                    "source": {
                        "$ref": "#/components/schemas/CourseSource"
                    },
                    "note": {
                        "type": "string",
                        "title": "Note",
                        "default": ""
                    }
                },
                "type": "object",
                "required": [
                    "id",
                    "name",
                    "teacher",
                    "category",
                    "source"
                ],
                "title": "Course",
                "description": "课程。"
            },
            "CourseSource": {
                "type": "integer",
                "enum": [
                    0,
                    1
                ],
                "title": "CourseSource",
                "description": "课程来源。"
            },
            "ErrorKind": {
                "type": "string",
                "enum": [
                    "unexpected",
                    "validation",
                    "entity_not_found"
                ],
                "title": "ErrorKind",
                "description": "错误类型。"
            },
            "GrabberConfig": {
                "properties": {
                    "delay": {
                        "type": "string",
                        "format": "duration",
                        "title": "Delay",
                        "default": "PT0.5S"
                    },
                    "start_at": {
                        "anyOf": [
                            {
                                "type": "string",
                                "format": "date-time"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Start At"
                    },
                    "retry": {
                        "type": "boolean",
                        "title": "Retry",
                        "default": true
                    }
                },
                "type": "object",
                "title": "GrabberConfig",
                "description": "抢课工具配置。"
            },
            "GrabberTask-Input": {
                "properties": {
                    "account": {
                        "$ref": "#/components/schemas/Account"
                    },
                    "config": {
                        "$ref": "#/components/schemas/GrabberConfig",
                        "default": {
                            "delay": "PT0.5S",
                            "retry": true
                        }
                    },
                    "courses": {
                        "items": {
                            "$ref": "#/components/schemas/Course"
                        },
                        "type": "array",
                        "title": "Courses",
                        "default": []
                    }
                },
                "type": "object",
                "required": [
                    "account"
                ],
                "title": "GrabberTask",
                "description": "抢课任务。"
            },
            "GrabberTask-Output": {
                "properties": {
                    "account": {
                        "$ref": "#/components/schemas/Account"
                    },
                    "config": {
                        "$ref": "#/components/schemas/GrabberConfig",
                        "default": {
                            "delay": "PT0.5S",
                            "retry": true
                        }
                    },
                    "courses": {
                        "items": {
                            "$ref": "#/components/schemas/Course"
                        },
                        "type": "array",
                        "title": "Courses",
                        "default": []
                    }
                },
                "type": "object",
                "required": [
                    "account"
                ],
                "title": "GrabberTask",
                "description": "抢课任务。"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "KeyValuePair_int_GrabberTask_": {
                "properties": {
                    "key": {
                        "type": "integer",
                        "title": "Key"
                    },
                    "value": {
                        "$ref": "#/components/schemas/GrabberTask-Output"
                    }
                },
                "type": "object",
                "required": [
                    "key",
                    "value"
                ],
                "title": "KeyValuePair[int, GrabberTask]"
            },
            "Lesson": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name"
                    },
                    "term": {
                        "type": "string",
                        "title": "Term"
                    },
                    "week": {
                        "type": "integer",
                        "title": "Week"
                    },
                    "day": {
                        "type": "integer",
                        "title": "Day"
                    },
                    "content_type": {
                        "type": "string",
                        "title": "Content Type"
                    },
                    "location_type": {
                        "type": "string",
                        "title": "Location Type"
                    },
                    "location": {
                        "type": "string",
                        "title": "Location"
                    },
                    "teachers": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Teachers"
                    },
                    "sessions": {
                        "items": {
                            "type": "integer"
                        },
                        "type": "array",
                        "title": "Sessions"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "term",
                    "week",
                    "day",
                    "content_type",
                    "location_type",
                    "location",
                    "teachers",
                    "sessions"
                ],
                "title": "Lesson",
                "description": "课程节次详情。"
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        }
    }
}